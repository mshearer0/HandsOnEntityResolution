{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",

  "width": 450,
  "height": {"step": 20},

  "title": {
    "text": "Count of Additional Comparisons Generated by Each Blocking Rule",
    "subtitle": "(Counts exclude comparisons already generated by previous rules)"
  },

    "data": {"values": []},

    "mark": "bar",

    "encoding": {
      "x": {
        "title": "Comparisons Generated by Rule(s)",
        "field": "start",
        "type": "quantitative"
        },
      "x2": {
        "field": "cumulative_rows"
        },
      "y": {
        "field": "rule",
        "title": "SQL Blocking Rule",
        "sort": ["-x2"]
      },
      "color": {
        "field": "rule",
        "legend": null,
        "scale": {"scheme": "category20c"}
      },
      "order": {"field": "cumulative_rows"},

      "tooltip": [
        {
        "type": "nominal",
        "field": "rule",
        "title": "SQL Condition"
      },
      {
        "type": "quantitative",
        "field": "row_count",
        "title": "Comparisons Generated",
        "format": ","
      },
      {
        "type": "quantitative",
        "field": "cumulative_rows",
        "title": "Cumulative Comparisons",
        "format": ","
      },
      {
        "type": "quantitative",
        "field": "cartesian",
        "title": "Cartesian Product of Input Data",
        "format": ","
      },
      {
        "type": "nominal",
        "field": "reduction_ratio",
        "title": "Reduction Ratio (cumulative rows/cartesian product)"
      }
    ]
    }
}
